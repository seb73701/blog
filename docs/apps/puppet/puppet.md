# PUPPET
----

## <i class="fa-solid fa-hashtag"></i> Information

![Logo](../../_media/apps/puppet/puppet_logo.svg ':size=250 :no-zoom')


> <i class="fa-solid fa-quote-left"></i> **Puppet**, an automated administrative engine for your Linux, Unix, and Windows systems, performs administrative tasks (such as adding users, installing packages, and updating server configurations) based on a centralized specification. <i class="fa-solid fa-quote-left fa-rotate-180"></i>


- <i class="fa-solid fa-globe"></i> **Site Officiel** : https://www.puppet.com/
- <i class="fa-solid fa-book"></i> **Documentation** : https://www.puppet.com/docs/
- <i class="fa-solid fa-file-circle-question"></i> **Changelog** : https://www.puppet.com/docs/puppet/8/release_notes_puppet
- <i class="fa-brands fa-github"></i> **Github** : https://github.com/puppetlabs/puppet
- <i class="fab fa-blogger-b"></i> **Blog** : https://www.puppet.com/blog
- <i class="fas fa-comments"></i> **Forum** : https://slack.puppet.com/
- <i class="far fa-question-circle"></i> **FAQ** : https://portal.perforce.com/s/topic/0TO4X000000DbNgWAK/puppet
- <i class="fas fa-tools"></i> **Plugins** : https://forge.puppet.com/

## <i class="fa-solid fa-glasses"></i> Articles à trier

<details open>

- [Introduction aux déploiements et configurations automatisés avec Puppet](/atrier/apps/puppet_002.md)
- [Tirez le meilleur parti de votre gestionnaire de configuration Puppet](/atrier/apps/puppet_001.md)

</details>

---

## <i class="fa-regular fa-newspaper"></i> Articles

<details open>

</details>

---

## <i class="fa-solid fa-glasses"></i> Articles externes

<details>

- [A Brief Introduction to Puppet](https://opensourceforu.com/2018/01/brief-introduction-puppet/)
- [A Guide to MongoDB Deployment & Maintenance Using Puppet: Part 1](https://severalnines.com/database-blog/guide-mongodb-deployment-maintenance-using-puppet-part-1)
- [A Guide to MongoDB Deployment & Maintenance Using Puppet: Part 2](https://severalnines.com/database-blog/guide-mongodb-deployment-maintenance-using-puppet-part-2)
- [Automate Network Discovering Via LLDP And Puppet](https://blog.pythian.com/automate-network-discovering-via-lldp-and-puppet/)
- [Automated Deployment of MySQL Galera Cluster to Amazon AWS with Puppet](https://severalnines.com/database-blog/automated-deployment-mysql-galera-cluster-amazon-aws-puppet)
- [Automating Infrastructure Management with Puppet](https://opensourceforu.com/2019/07/automating-infrastructure-management-with-puppet/)
- [Comment installer et configurer Puppet sous Linux ?](https://www.it-connect.fr/presentation-de-puppet-loutil-de-deploiement-linux/)
- [Debconf, Preseed et troubleshooting](http://www.morot.fr/debconf-preseed-et-troubleshooting/)
- [Déploiement et automatisation avec Puppet 4.9 - partie 1](https://linuxfr.org/users/skhaen/journaux/deploiement-et-automatisation-avec-puppet-4-9-partie-1)
- [Diving Into Puppet Providers Development: The Puppet-Corosync Module](https://www.slideshare.net/roidelapluie/diving-into-puppet-providers-development-the-puppetcorosync-module)
- [Do you know all of Puppet?](https://www.slideshare.net/roidelapluie/do-you-know-all-of-puppet)
- [Encrypting Sensitive Data In Puppet Using Hiera-Eyaml](https://blog.pythian.com/encrypting-sensitive-data-puppet-using-hiera-eyaml/)
- [Getting Started With the Puppeteer API for Headless Chrome](https://dzone.com/articles/getting-started-with-the-puppeteer-api-for-headles)
- [How to Create Puppet Bolt Tasks Part 2: Creating and Installing Tasks](https://www.petri.com/how-to-create-puppet-bolt-tasks-part-2-creating-and-installing-tasks)
- [How to Create Puppet Bolt Tasks: Understanding Modules and Tasks](https://www.petri.com/how-to-create-puppet-bolt-tasks-understanding-modules-and-tasks)
- [How To Install Puppet Enterprise on Red Hat Linux](https://www.petri.com/how-to-install-puppet-enterprise-on-red-hat-linux)
- [How to Setup Puppet Master and Agent on CentOS 7](https://www.howtoforge.com/tutorial/centos-puppet-master-and-agent/)
- [How to Setup Puppet Master and Agent on CentOS 8](https://www.howtoforge.com/tutorial/centos-puppet-master-and-agent/)
- [How to use Puppet environments in Linux to safely update an agent](https://linuxconfig.org/how-to-use-puppet-environments-in-linux-to-safely-update-an-agent)
- [How to write a simple module to copy a file using Puppet 5.4.0 on Ubuntu 18.04](https://medium.com/@vimukthiperera/how-to-write-a-simple-module-to-copy-a-file-using-puppet-5-4-0-on-ubuntu-18-04-b223270766b6)
- [Install and Configure Puppet 5 Part 1: Set Up Red Hat Linux in Hyper-V](https://www.petri.com/install-configure-puppet-5-part-1-set-red-hat-linux-hyper-v)
- [Install and Configure Puppet 5 Part 2: Set Up Puppet](https://www.petri.com/install-configure-puppet-part-2-set-puppet)
- [Install and Configure Puppet Enterprise Part 1: Set Up Red Hat Linux in Hyper-V](https://www.petri.com/install-configure-puppet-enterprise-part-1-set-red-hat-linux-hyper-v)
- [Install Puppet Master and Agent on CentOS 8 / RHEL 8](https://computingforgeeks.com/install-puppet-master-and-agent-on-centos-rhel-8/)
- [Install Puppet Master and Agent on Ubuntu 20.04](https://www.howtoforge.com/tutorial/ubuntu_puppet/)
- [Installing Open vSwitch on Ubuntu with Puppet](https://blog.scottlowe.org/2013/10/14/installing-open-vswitch-on-ubuntu-with-puppet/)
- [Introduction aux déploiements et configurations automatisés avec Puppet](https://connect.ed-diamond.com/Linux-Pratique/lp-115/introduction-aux-deploiements-et-configurations-automatises-avec-puppet)
- [LAMP Stacks made easy with VMware and Puppet](https://www.vmguru.com/2018/01/lamp-stacks-made-easy-with-vmware-and-puppet/)
- [Making It Easier To Graph Your Infrastructure’s Performance Data](https://blog.pythian.com/making-it-easier-to-graph-your-infrastructures-performance-data/)
- [Managing Linux Using Puppet](https://www.linuxjournal.com/content/managing-linux-using-puppet)
- [Managing SSH Authorized Keys with Puppet](https://blog.scottlowe.org/2013/10/21/managing-ssh-authorized-keys-with-puppet/)
- [Managing Windows Server with Puppet Part 1: Configure Puppet Master and Bootstrap the Puppet Agent in Windows Server](https://www.petri.com/managing-windows-server-with-puppet-part-1-configure-puppet-master-and-bootstrap-the-puppet-agent-in-windows-server)
- [Managing Windows Server with Puppet Part 2: Log Into Puppet Master, Accept Node Certificate, and Test Connectivity](https://www.petri.com/managing-windows-server-with-puppet-part-2-log-in-to-puppet-master-accept-node-certificate-and-test-connectivity)
- [Managing Windows Server with Puppet Part 3: Edit the Site Manifest](https://www.petri.com/managing-windows-server-with-puppet-part-3-edit-the-site-manifest)
- [Managing Windows Server with Puppet Part 3: Install the Modules and Edit the Site Manifest](https://www.petri.com/managing-windows-server-with-puppet-part-3-edit-the-site-manifest)
- [Managing Windows Server with Puppet Part 4: Working with Files and ACLs](https://www.petri.com/managing-windows-server-with-puppet-part-4-working-with-files-and-acls)
- [Managing Windows Server with Puppet Part 5: Managing Local Users and Groups](https://www.petri.com/managing-windows-server-with-puppet-part-5-managing-local-users-and-groups)
- [Managing Windows Server with Puppet Part 6: Installing, Updating, and Removing Software](https://www.petri.com/managing-windows-server-with-puppet-part-6-installing-updating-and-removing-software)
- [Managing Windows Server with Puppet Part 7: Installing Active Directory](https://www.petri.com/managing-windows-server-with-puppet-part-7-installing-active-directory)
- [PostgreSQL Deployment & Configuration with Puppet](https://severalnines.com/database-blog/postgresql-deployment-configuration-puppet)
- [PowerShell DSC and Puppet — Why It Is Not Either/Or](https://www.petri.com/puppet-vs-dsc-why-puppet-might-suit-your-windows-server-configuration-management-needs)
- [Puppet - Facter & Facts](https://www.tutorialspoint.com/puppet/puppet_facter_facts.htm)
- [PUPPET – ADD OR REPLACE A STRING IN A FILE](https://eureka.ykyuen.info/2014/03/06/puppet-add-or-replace-a-string-in-a-file/)
- [Puppet : automatiser la construction d’un volume GlusterFS répliqué](http://www.morot.fr/puppet-automatiser-la-construction-dun-volume-glusterfs-replique/)
- [Puppet : déployer automatiquement une applications Web avec les services Apache/PHP/MySQL](http://www.morot.fr/puppet-deployer-automatiquement-une-applications-web-avec-les-services-apachephpmysql/)
- [Puppet Bolt Agentless Automation for Linux and Windows Server](https://www.petri.com/puppet-bolt-agentless-automation-for-linux-and-windows-server)
- [Puppet DSL: back to the basics](https://www.slideshare.net/roidelapluie/puppet-dsl-back-to-the-basics)
- [Puppet Hiera Tutorial – Beginners Guide](https://devopscube.com/puppet-hiera-tutorial-beginners/)
- [Puppet Server Logging with the ELK Stack – Part 2](https://logz.io/blog/puppet-server-logging-part-2/)
- [Puppet Server Monitoring with the ELK Stack – Part 1]()
- [Recette Puppet : création automatisée d’un utilisateur](http://www.morot.fr/recette-puppet-creation-automatisee-dun-utilisateur/)
- [Recette Puppet : créer un volume LVM](http://www.morot.fr/recette-puppet-creer-un-volume-lvm/)
- [Remote Management Using Puppet Bolt and Windows Subsystem for Linux](https://www.petri.com/remote-management-using-puppet-bolt-and-windows-subsystem-for-linux)
- [Run PowerShell code in Puppet](https://blogs.technet.microsoft.com/heyscriptingguy/2018/05/23/run-powershell-code-in-puppet/)
- [Securing Puppet With Conjur](https://dzone.com/articles/securing-puppet-with-conjur)
- [Some Observations On Puppetrun With Foreman](https://blog.pythian.com/some-observations-of-puppetrun-with-foreman/)
- [Supervision distribuée avec Monit (et Puppet)](https://connect.ed-diamond.com/GNU-Linux-Magazine/glmf-180/supervision-distribuee-avec-monit-et-puppet)
- [The Basics of Deploying a MongoDB Replica Set and Shards Using Puppet](https://severalnines.com/database-blog/basics-deploying-mongodb-replica-set-and-shards-using-puppet)
- [Tirez le meilleur parti de votre gestionnaire de configuration Puppet](https://connect.ed-diamond.com/Linux-Pratique/lp-119/tirez-le-meilleur-parti-de-votre-gestionnaire-de-configuration-puppet)
- [Use Puppet Bolt Tasks to Manage Windows Server](https://www.petri.com/use-puppet-bolt-tasks-to-manage-windows-server)
- [Using Puppet Classes, Roles, Profiles and Templates](http://wragg.io/puppet-classes-roles-profiles-and-templates-on-windows/)
- [Utiliser PuppetMaster et Puppet agent pour maintenir son parc de machines Debian ou CentOS sous Debian/wheezy/Jessie](http://monblog.system-linux.net/blog/2014/04/06/utiliser-puppetmaster-et-puppet-agent-pour-maintenir-son-parc-de-machines-debian-ou-centos-sous-debianwheezyjessie/)

</details>

----

# Installation de Puppet (Server)

## Prérequis

### Hardware

Minimum requis : 

|CPUs|GHz|GiB memory|OS|
|:---|:--|:---------|:--|
|1|2.4|0.5|Amazon Linux 2 AMI|
|1|2.5|1|Windows Server 2019|

Les exigences imposées au serveur  (master) varient considérablement d'un déploiement à l'autre. Les besoins en ressources dépendent du nombre d'agents desservis, de la fréquence d'enregistrement des agents, du nombre de ressources gérées par chaque agent et de la complexité des manifestes et des modules utilisés.

|Node volume|Cores|Heap|ReservedCodeCache|
|:----------|:----|:---|:----------------|
|Dozens|2|1GB|Not applicable|
|1000|2-4|4GB|512m|


- [source](https://help.puppet.com/osp/current/Content/PuppetCore/hardware_requirements.htm?tocpath=Set%20up%20Puppet%7CInstall%20Puppet%7CSystem%20requirements%7C_____1)


## Installation du repository

- Mettre à jour les paquets existants :

```shell
apt update && apt upgrade
```

- Installer le paquet `puppet-release` qui contient le dépôt officiel Puppet :

```shell
wget https://apt.puppet.com
```

test
https://apt-puppetcore.puppet.com/public/index.html